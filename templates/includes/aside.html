{% load static %}
{% load i18n %}
{% load humanize %}

<nav id="kt_aside" class="aside aside-default aside-hoverable" data-kt-drawer="true" data-kt-drawer-name="aside" data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true" data-kt-drawer-width="{default:'200px', '300px': '250px'}" data-kt-drawer-direction="start" data-kt-drawer-toggle="#kt_aside_toggle">
  <div class="aside-logo flex-column-auto px-10 pt-9 pb-5" id="kt_aside_logo">
    <a href="{% if request.user.is_partner %}{% url 'apps.dashboard:partner-dashboard' %}{% else %}{% url "apps.dashboard:index" %}{% endif %}">
      <img alt="Logo" src="{{ config.COMPANY_LOGO }}" class="logo-default theme-light-show" height="50" width="120"/>
      <span class="badge badge-light-primary">Cobranzas</span>
    </a>
  </div>
  <div class="aside-menu flex-column-fluid ps-3 pe-1">
    <div class="menu menu-sub-indention menu-column menu-rounded menu-title-gray-600 menu-icon-gray-500 menu-active-bg menu-state-primary menu-arrow-gray-500 fw-semibold fs-6 my-5 mt-lg-2 mb-lg-0" id="kt_aside_menu" data-kt-menu="true">
      <div class="hover-scroll-y mx-4" id="kt_aside_menu_wrapper" data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}" data-kt-scroll-height="auto" data-kt-scroll-wrappers="#kt_aside_menu" data-kt-scroll-offset="20px" data-kt-scroll-dependencies="#kt_aside_logo, #kt_aside_footer">

        {% if perms.partners.view_prospect or perms.partners.view_applicant or perms.partners.view_partner %}
        <div class="menu-item pt-5">
          <div class="menu-content">
            <span class="fw-bold text-muted text-uppercase fs-7">
              {% trans 'Clients' %}
            </span>
          </div>
        </div>

        <div class="menu-item">
          {% if perms.partners.view_partner %}
            <a class="menu-link {% if "partner" in request.path and "applicant" not in request.path and "prospect" not in request.path %}active{% endif %}" href="{% url 'apps.partners:partner-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-people fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                  <span class="path4"></span>
                  <span class="path5"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Partners' %}
              </span>
            </a>
          {% endif %}
        </div>
        {% endif %}

        {% if perms.credits.view_creditapplication or perms.credits.view_credit or perms.credits.view_creditreschedulerequest or perms.credits.view_creditrefinancerequest or perms.credits.view_producttype or perms.credits.view_product %}
        <div class="menu-item pt-5">
          <div class="menu-content">
            <span class="fw-bold text-muted text-uppercase fs-7">
              {% trans 'Credits' %}
            </span>
          </div>
        </div>

        <div class="menu-item">
          {% if perms.credits.view_producttype %}
            <a class="menu-link {% if "product-type" in request.path %}active{% endif %}" href="{% url 'apps.credits:product_type_list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-category fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                  <span class="path4"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Product Types' %}
              </span>
            </a>
          {% endif %}
        </div>

        <div class="menu-item">
          {% if perms.credits.view_product %}
            <a class="menu-link {% if "products" in request.path and "product-type" not in request.path %}active{% endif %}" href="{% url 'apps.credits:product_list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-package fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Products' %}
              </span>
            </a>
          {% endif %}
        </div>

        <div class="menu-item">
          {% if perms.credits.view_credit %}
            <a class="menu-link {% if "credits" in request.path and "credit-application" not in request.path and "loan-reschedule" not in request.path %}active{% endif %}" href="{% url 'apps.credits:credit_list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-wallet fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                  <span class="path4"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Credits' %}
              </span>
            </a>
          {% endif %}
        </div>
        {% endif %}

        {% if perms.payments.view_payment or perms.credits.view_creditdisbursement %}
        <div class="menu-item pt-5">
          <div class="menu-content">
            <span class="fw-bold text-muted text-uppercase fs-7">
              {% trans 'Window' %}
            </span>
          </div>
        </div>

        <div class="menu-item">
          {% if perms.payments.view_payment %}
            <a class="menu-link {% if "payments" in request.path %}active{% endif %}" href="{% url 'apps.payments:payment-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-bill fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                  <span class="path4"></span>
                  <span class="path5"></span>
                  <span class="path6"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Payments' %}
              </span>
            </a>
          {% endif %}
        </div>
        {% endif %}

        {% if request.user.is_partner %}
        <div class="menu-item pt-5">
          <div class="menu-content">
            <span class="fw-bold text-muted text-uppercase fs-7">
              {% trans 'My Payments' %}
            </span>
          </div>
        </div>

        <div class="menu-item">
          <a class="menu-link {% if "partner/payment/create" in request.path %}active{% endif %}" href="{% url 'apps.payments:partner-payment-create' %}">
            <span class="menu-icon">
              <i class="ki-duotone ki-credit-cart fs-2 me-2">
                <span class="path1"></span>
                <span class="path2"></span>
              </i>
            </span>
            <span class="menu-title">
              {% trans 'Make Payment' %}
            </span>
          </a>
        </div>

        <div class="menu-item">
          <a class="menu-link {% if "partner/payment/history" in request.path %}active{% endif %}" href="{% url 'apps.payments:partner-payment-history' %}">
            <span class="menu-icon">
              <i class="ki-duotone ki-calendar-tick fs-2 me-2">
                <span class="path1"></span>
                <span class="path2"></span>
                <span class="path3"></span>
                <span class="path4"></span>
                <span class="path5"></span>
                <span class="path6"></span>
              </i>
            </span>
            <span class="menu-title">
              {% trans 'Payment History' %}
            </span>
          </a>
        </div>
        {% endif %}

        {% if perms.compliance.view_contribution or perms.compliance.view_socialsecurity or perms.compliance.view_penalty %}
        <div class="menu-item pt-5">
          <div class="menu-content">
            <span class="fw-bold text-muted text-uppercase fs-7">
              {% trans 'Compliance' %}
            </span>
          </div>
        </div>

        <div class="menu-item">
          {% if perms.compliance.view_contribution %}
            <a class="menu-link {% if "contribution" in request.path %}active{% endif %}" href="{% url 'apps.compliance:contribution-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-bank fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Contributions' %}
              </span>
            </a>
          {% endif %}
        </div>

        <div class="menu-item">
          {% if perms.compliance.view_socialsecurity %}
            <a class="menu-link {% if "social-security" in request.path %}active{% endif %}" href="{% url 'apps.compliance:social-security-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-shield-tick fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Social Security' %}
              </span>
            </a>
          {% endif %}
        </div>

        <div class="menu-item">
          {% if perms.compliance.view_penalty %}
            <a class="menu-link {% if "penalt" in request.path %}active{% endif %}" href="{% url 'apps.compliance:penalty-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-abstract-5 fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Penalties' %}
              </span>
            </a>
          {% endif %}
        </div>
        {% endif %}

        {% if perms.campaigns.view_campaign or perms.campaigns.view_group %}
        <div class="menu-item pt-5">
          <div class="menu-content">
            <span class="fw-bold text-muted text-uppercase fs-7">
              {% trans 'Campaigns' %}
            </span>
          </div>
        </div>

        <div class="menu-item">
          {% if perms.campaigns.view_group %}
            <a class="menu-link {% if "group" in request.path %}active{% endif %}" href="{% url 'apps.campaigns:group-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-profile-user fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Groups' %}
              </span>
            </a>
          {% endif %}
        </div>
        {% endif %}

        <div class="menu-item">
          {% if perms.campaigns.view_campaign %}
            <a class="menu-link {% if "campaign" in request.path and "group" not in request.path %}active{% endif %}" href="{% url 'apps.campaigns:campaign-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-notification-on fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                  <span class="path4"></span>
                  <span class="path5"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Campaigns' %}
              </span>
            </a>
          {% endif %}
        </div>

        {% if perms.team.view_area or perms.team.view_position or perms.team.view_employee %}
        <div class="menu-item pt-5">
          <div class="menu-content">
            <span class="fw-bold text-muted text-uppercase fs-7">
              {% trans 'Team Management' %}
            </span>
          </div>
        </div>

        <div class="menu-item">
          {% if perms.team.view_area %}
            <a class="menu-link {% if "area" in request.path %}active{% endif %}" href="{% url 'apps.team:area-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-abstract-26 fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Areas' %}
              </span>
            </a>
          {% endif %}
        </div>

        <div class="menu-item">
          {% if perms.team.view_position %}
            <a class="menu-link {% if "position" in request.path %}active{% endif %}" href="{% url 'apps.team:position-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-profile-circle fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Positions' %}
              </span>
            </a>
          {% endif %}
        </div>

        <div class="menu-item">
          {% if perms.team.view_employee %}
            <a class="menu-link {% if "employee" in request.path %}active{% endif %}" href="{% url 'apps.team:employee-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-badge fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                  <span class="path4"></span>
                  <span class="path5"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Employees' %}
              </span>
            </a>
          {% endif %}
        </div>
        {% endif %}

        {% if perms.customers.view_company or perms.customers.view_agency or perms.auth.view_group or perms.auth.view_user %}
        <div class="menu-item pt-5">
          <div class="menu-content">
            <span class="fw-bold text-muted text-uppercase fs-7">
              {% trans 'Settings' %}
            </span>
          </div>
        </div>
        <div class="menu-item">
          {% if perms.customers.view_company %}
            <a class="menu-link {% if "company" in request.path %}active{% endif %}" href="{% url 'apps.customers:company-detail' 1 %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-office-bag fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Company' %}
              </span>
            </a>
          {% endif %}
        </div>

        <div class="menu-item">
          {% if perms.customers.view_agency %}
            <a class="menu-link {% if "agenc" in request.path %}active{% endif %}" href="{% url 'apps.customers:agency-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-home-2 fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                  <span class="path4"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Agencies' %}
              </span>
            </a>
          {% endif %}
        </div>

        <div class="menu-item">
          {% if perms.auth.view_user %}
            <a class="menu-link {% if "user" in request.path and "/users/users/" in request.path %}active{% endif %}" href="{% url 'apps.users:user-list' %}">
              <span class="menu-icon">
                <i class="ki-duotone ki-people fs-2 me-2">
                  <span class="path1"></span>
                  <span class="path2"></span>
                  <span class="path3"></span>
                  <span class="path4"></span>
                  <span class="path5"></span>
                </i>
              </span>
              <span class="menu-title">
                {% trans 'Users' %}
              </span>
            </a>
          {% endif %}
        </div>
        {% endif %}

        <div class="menu-item">
          <div class="menu-content">
            <div class="separator mx-1 my-4">
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
  <div class="aside-footer flex-column-auto pb-5 d-none" id="kt_aside_footer">
    <a href="index.html" class="btn btn-light-primary w-100">Button</a>
  </div>
</nav>
